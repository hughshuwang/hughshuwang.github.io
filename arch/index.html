<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XP2WL7078F"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XP2WL7078F');
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>archlinux - CYANED</title>
    
    <meta name="description" content="


    &#34;layers of abstraction that serve to hide internals are never a good thing.&#34;
     - aaron griffin
">
    <meta name="author" content="">
    
    <link href="https://cyaned.co/css/github-gist.min.css" rel="stylesheet">
    <link href="https://cyaned.co/css/style.css" rel="stylesheet">
    <link href="https://cyaned.co/css/dark.css" rel="stylesheet">
    <link href="https://cyaned.co/css/featherlight.min.css" type="text/css" rel="stylesheet">
    <link href="https://cyaned.co/css/featherlight.loader.css" type="text/css" rel="stylesheet">
    <link href="https://cyaned.co/css/featherlight.gallery.min.css" type="text/css" rel="stylesheet">
    
    <link rel="apple-touch-icon" href="https://cyaned.co/img/apple-touch-icon.png">
    <link rel="icon" href="https://cyaned.co/img/favicon.ico">
    
    <meta name="generator" content="Hugo 0.55.1" />
    
    <link rel="alternate" type="application/atom+xml" href="https://cyaned.co/index.xml" title="CYANED">
    
    
  </head>
  <body class="single">
    <header class="header">
      <div class="wrap">
        
        <p class="logo"><a href="https://cyaned.co/">CYANED </a></p>
        
        <button class="menu-toggle" type="button"></button>
      </div>
    </header>
    <nav class="nav">
    <ul class="menu">
      
      
      <li class="">
        <a href="/channels/">Channels</a>
      </li>
      
      <li class="">
        <a href="/intro">Intro</a>
      </li>
      
    </ul>
    </nav>
    <main class="main">


<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">archlinux</h1>
    
  </header>
  <div class="post-content"><p><img src="../../images/arch.jpg" alt="" /></p>

<div style='font-size: 13px' align='right'>
    "layers of abstraction that serve to hide internals are never a good thing."<br>
     - aaron griffin
</div>

<p><br><br><br><br>
<br><br><br><br>
<br><br><br><br></p>

<h2 id="memo">memo</h2>

<p>a simple note for a simple hobbie to pursuit absolute simplicity</p>

<h4 id="installation">installation</h4>

<pre><code class="language-zsh"># last updated 2022-08-03, optiplex 3080, 15-min

# boot from flash disk as root@archiso
iwctl # iwd for wifi, ping to check
timedatectl set-ntp true # timedatectl status

# get partition and file systems ready in local disk
fdisk /dev/&lt;nv...&gt; # gbt table, 3 partitions, mpigntdw
fdisk -l # check table and partition types, p1 512M EFI, p2 8G swap (=RAM req by steam)
mkfs.ext4 /dev/&lt;nv...p3&gt; &amp;&amp; mkswap /dev/&lt;nv...p2&gt; &amp;&amp; mkfs.fat -F 32 /dev/&lt;nv...p1&gt;
mount /dev/&lt;nv...p3&gt; /mnt &amp;&amp; swapon /dev/&lt;nv...p2&gt; &amp;&amp; mount --mkdir /dev/&lt;nv...p1&gt; /mnt/boot
lsblk # check mounting points and swap

# actual installation and basic configs
vim /etc/pacman.d/mirrorlist # check/edit mirrors
pacman -Sy archlinux-keyring # package signiture issue, keyring pkg out-of-date
# https://wiki.archlinux.org/title/Pacman/Package_signing#Upgrade_system_regularly
pacstrap /mnt base linux linux-firmware sudo vim git man-db man-pages texinfo
genfstab -U /mnt &gt;&gt; /mnt/etc/fstab # use unique UUID
arch-chroot /mnt # now in root dir as root
timedatectl set-timezone America/New_York # timedatectl list-timezones; 
hwclock --systohc # generate /etc/adjtime
vim /etc/locale.gen # uncomment en_US.UTF-8 UTF-8
locale-gen
vim /etc/locale.conf # add LANG=en_US.UTF-8 
vim /etc/hostname
passwd

# grub, nmcli, and add sudo user
pacman -S grub efibootmgr networkmanager # efibootmgr for grub
mount --mkdir /dev/&lt;nv...p1&gt; /boot/efi # ignore fstab warnings
grub-install --target=x86_64-efi --bootloader-id=GRUB --efi-directory=/boot/efi
grub-mkconfig -o /boot/grub/grub.cfg
useradd -m &lt;username&gt; &amp;&amp; passwd &lt;username&gt; # --create-home
# sudo -lU &lt;username&gt; # check sudo privilege
usermod -aG wheel &lt;username&gt; # --append --groups 
vim /etc/sudoers # uncomment %wheel ALL=(ALL) ALL
exit # check pwd at /
umount -R /mnt &amp;&amp; reboot

# log in as normal user
sudo systemctl start NetworkManager.service # run status to check
sudo systemctl enable NetworkManager.service # auto connect
# nmcli device wifi list # show available wifi
sudo nmcli device wifi connect &lt;wifi_name&gt; password &lt;wifi_password&gt; # ping
sudo pacman -Syu
sudo pacman -S neofetch &amp;&amp; neofetch # enjoy
</code></pre>

<h4 id="day-1">day-1</h4>

<p>the most essential tools for a minimal dev env</p>

<ul>
<li>aur</li>
<li>kb remap with kbd</li>
<li>grwm lite: i3, zsh/omz/fzf, vim, ranger</li>
<li>tmux, vim(coc, nodejs, fzf) | compile/run/debug, copy/send</li>
<li>concurrent rust, polars, jump/jlrs, glpk</li>
</ul>

<pre><code class="language-zsh"># rmdir nl whereis locate find chmod df du free ln diff date grep wc ps watch
# sudo pacman -Q | less # explicitly installed pacman -Qe
sudo pacman -S htop zsh fzf ranger tmux curl nodejs wget chromium alacritty
sudo pacman -S xorg xorg-xinit xorg-xmodmap i3-wm i3status ttf-dejavu cantarell-font
sudo pacman -S pulseaudio pulseaudio-alsa pulseaudio-bluetooth pulsemixer
vim ~/.xinitrc # add 'exec i3'

# bluetooth, keyboard, xbox, and speaker
pacman -S bluez bluez-utils
sudo modprobe btusb # load the kernel module btusb
sudo systemctl start bluetooth.service # status to check
sudo systemctl enable bluetooth.service
sudo vim /etc/bluetooth/main.conf # AutoEnable=true and DiscoverableTimeout=0
sudo bluetoothctl # power on scan on trust pair connect

# zsh, omz, dotfile PENDING
# echo $SHELL # current # cat /etc/shells # installed shells
chsh -s /bin/zsh # default shell
wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh # sammy

# kb: https://wiki.archlinux.org/title/Linux_console/Keyboard_configuration; xmodmap
</code></pre>

<h4 id="steam">steam</h4>

<pre><code class="language-zsh"># config and troubleshooting see arch wiki - steam
sudo vim /etc/pacman.conf # comment out multilib section
sudo pacman -Syu # update/sync 32bit database
sudo pacman -S xf86-video-intel mesa lib32-mesa
sudo pacman -S lib32-systemd vulkan-intel lib32-vulkan-intel
sudo pacman -S wine wine-mono wqy-zenhei
sudo pacman -S steam # use default providers
# reboot, proton will be installed by 'enable for all other titles'
# runtime wine/proton issue, crash immediately, solved: swap req

# xpadneo for xbox one controller
pacman -S dkms linux-headers
git clone https://github.com/atar-axis/xpadneo.git &amp;&amp; cd xpadneo
sudo ./install.sh # with dkms, then bluetoothctl

# TODO: store games in a separate SSD, xp11, senran, ac7
#   edit fstab for auto-mount, add path to steam lib
</code></pre>

<p><br><br><br><br>
<br><br><br><br>
<br><br><br><br></p></div>
  <footer class="post-footer">
    
  </footer>
  
  
  
  
</article>

</main>
<footer class="footer">
  <span> &copy; 2022 
    <a href="https://www.instagram.com/shusheaan/"> 
    shu shean </a> @ 
    <a href="https://cyaned.co/"> 
    cyaned lab</a>. all rights reserved.
    
    
  </span>
</footer>
<script src="https://cyaned.co/js/instantclick.min.js" data-no-instant></script>
<script data-no-instant>InstantClick.init();</script>
<script src="https://cyaned.co/js/highlight.min.js" data-no-instant></script>
<script data-no-instant>
  hljs.initHighlightingOnLoad();
  setMenuListener();

  InstantClick.on('change', function() {
    document.querySelectorAll('pre code').forEach((block) => {
      hljs.highlightBlock(block);
    });
    setMenuListener();
  });

  function setMenuListener() {
    var menuToggle = document.querySelector('.menu-toggle');
    var body = document.querySelector('body');
    menuToggle.addEventListener('click', function() {
      body.classList.toggle('no-scroll');
    }, false);
  }
</script>

<script src="https://cyaned.co/js/jquery.min.js"></script>
<script src="https://cyaned.co/js/jquery.detect_swipe.js"></script>
<script src="https://cyaned.co/js/featherlight.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cyaned.co/js/featherlight.gallery.min.js" type="text/javascript" charset="utf-8"></script>

</body>
</html>

